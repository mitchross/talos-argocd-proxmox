---
apiVersion: cilium.io/v2alpha1
kind: CiliumLoadBalancerIPPool
metadata:
  name: first-pool
  namespace: kube-system
  annotations:
    # Apply AFTER Cilium core is running to prevent IP pool disruption
    argocd.argoproj.io/sync-wave: "1"
    # Prevent unnecessary syncs that disrupt LoadBalancer IPs
    argocd.argoproj.io/compare-options: IgnoreExtraneous
spec:
  blocks:
    - cidr: "192.168.10.32/27"
      # This provides IPs from 192.168.10.32 to 192.168.10.63
      # Reserve specific IPs for known services:
      # - 192.168.10.49: Gateway External
      # - 192.168.10.50: Gateway Internal
      # - Remaining 30 IPs for other LoadBalancer services
  allowFirstLastIPs: "No"
  serviceSelector:
    matchLabels: {}