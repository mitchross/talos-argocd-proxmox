mqtt:
  host: mosquitto.frigate
  port: 1883
  topic_prefix: frigate
  user: "${FRIGATE_MQTT_USER}"
  password: "${FRIGATE_MQTT_PASSWORD}"
database:
  path: /config/frigate.db
ui:
  timezone: America/New_York
timestamp_style:
  position: "tr"
  format: "%m/%d/%Y %H:%M:%S"
  color:
    red: 255
    green: 255
    blue: 255
snapshots:
  enabled: true
  timestamp: true
  bounding_box: true
  retain:
    default: 14
motion:
  threshold: 45
  contour_area: 20
record:
  enabled: true
  continuous:
    days: 3
  motion:
    days: 3
# Object detection is now disabled by default in 0.16.0+
detect:
  enabled: true
detectors:
  cpu:
    type: cpu
ffmpeg:
  input_args: preset-rtsp-generic
# go2rtc with Nest cameras via direct SDM API
# Using the correct echo:curl syntax from official documentation
go2rtc:
  streams:
    # Nest cameras via Google SDM API (direct, no Home Assistant)
    backyard-nest:
    - "nest:?client_id={FRIGATE_NEST_CLIENT_ID}&client_secret={FRIGATE_NEST_CLIENT_SECRET}&refresh_token={FRIGATE_NEST_REFRESH_TOKEN}&project_id={FRIGATE_NEST_PROJECT_ID}&device_id=AVPHwEu-b9WJaOye6XlAOJsVuG4cdrmJC3WIVTtENALQQfkYJSpLEQj4va9k1c1YHqDcgAWUdfaIgvBMIy3--kQBCmq_dDI&protocols=WEB_RTC&video=h264&audio=opus"
    garage-inside-nest:
    - "nest:?client_id={FRIGATE_NEST_CLIENT_ID}&client_secret={FRIGATE_NEST_CLIENT_SECRET}&refresh_token={FRIGATE_NEST_REFRESH_TOKEN}&project_id={FRIGATE_NEST_PROJECT_ID}&device_id=AVPHwEuwG9L_DWqqKXGMkSsZWGLHxyieW9NJBmZCARSyBqtpOt2BxS8Un3SYTfuClz3pCd1BS32T-sTRnsRwR3M_ddddZ6s&protocols=WEB_RTC&video=h264&audio=opus"
    garage-outside-nest:
    - "nest:?client_id={FRIGATE_NEST_CLIENT_ID}&client_secret={FRIGATE_NEST_CLIENT_SECRET}&refresh_token={FRIGATE_NEST_REFRESH_TOKEN}&project_id={FRIGATE_NEST_PROJECT_ID}&device_id=AVPHwEv2h0W3viecoGaYuzNnJYw5JpuFl22mo6_2OxWG7xIs8fTPCL0uwgrIOU8WEm7IiTIOQ_cgyzkh18OaR6nBzlTUWQ0&protocols=WEB_RTC&video=h264&audio=opus"
    front-porch-nest:
    - "nest:?client_id={FRIGATE_NEST_CLIENT_ID}&client_secret={FRIGATE_NEST_CLIENT_SECRET}&refresh_token={FRIGATE_NEST_REFRESH_TOKEN}&project_id={FRIGATE_NEST_PROJECT_ID}&device_id=AVPHwEtOw3n2_DdhAm0wdt_NFRX7r04GI3RgzvQ2l2jt7KrpS7kCuvSvUtlDAmDCxg9nqMYUMEQz2IaXjtYJmT3A7gH1vPQ&protocols=WEB_RTC&video=h264&audio=opus"
    living-room-nest:
    - "nest:?client_id={FRIGATE_NEST_CLIENT_ID}&client_secret={FRIGATE_NEST_CLIENT_SECRET}&refresh_token={FRIGATE_NEST_REFRESH_TOKEN}&project_id={FRIGATE_NEST_PROJECT_ID}&device_id=AVPHwEvWU1Xm4--F8EQvLgj32449ix_pnGNv82a1xR6gJoWCsdxUyyWk1b3C9Aox-hLzJtQ2rp85L1F_BAw1HYaMgaLIa5U&protocols=WEB_RTC&video=h264&audio=opus"
    kitchen-nest:
    - "nest:?client_id={FRIGATE_NEST_CLIENT_ID}&client_secret={FRIGATE_NEST_CLIENT_SECRET}&refresh_token={FRIGATE_NEST_REFRESH_TOKEN}&project_id={FRIGATE_NEST_PROJECT_ID}&device_id=AVPHwEtnbEGv0Bh9GblHDv66SK0jKGBAbQ1Mnnkuki_YW4_XQJGgV_dZ-nlouy_oRShGc1_7PwBFabTHa8ovpRYEyb8CZVk&protocols=WEB_RTC&video=h264&audio=opus"
cameras:
  # Wyze camera via wyze-bridge (disabled - Wyze API auth broken)
  # shed:
  #   enabled: true
  #   ffmpeg:
  #     inputs:
  #     - path: rtsp://192.168.10.46:8554/shed
  #       roles:
  #       - detect
  #       - record
  #   detect:
  #     enabled: true
  #     width: 1280
  #     height: 720
  #     fps: 5
  #   live:
  #     height: 1080
  # Add Nest cameras via go2rtc restream
  backyard:
    enabled: true
    ffmpeg:
      input_args: preset-rtsp-restream-low-latency
      inputs:
      - path: rtsp://127.0.0.1:8554/backyard-nest?video
        roles:
        - detect
        - record
    detect:
      enabled: true
      width: 1280
      height: 720
      fps: 5
    live:
      height: 1080
    objects:
      track:
      - person
      - dog
      - cat
      - car
  garage-inside:
    enabled: true
    ffmpeg:
      input_args: preset-rtsp-restream-low-latency
      inputs:
      - path: rtsp://127.0.0.1:8554/garage-inside-nest?video
        roles:
        - detect
        - record
    detect:
      enabled: true
      width: 1280
      height: 720
      fps: 5
    live:
      height: 1080
    objects:
      track:
      - person
      - car
  garage-outside:
    enabled: true
    ffmpeg:
      input_args: preset-rtsp-restream-low-latency
      inputs:
      - path: rtsp://127.0.0.1:8554/garage-outside-nest?video
        roles:
        - detect
        - record
    detect:
      enabled: true
      width: 1280
      height: 720
      fps: 5
    live:
      height: 1080
    objects:
      track:
      - person
      - car
  front-porch:
    enabled: true
    ffmpeg:
      input_args: preset-rtsp-restream-low-latency
      inputs:
      - path: rtsp://127.0.0.1:8554/front-porch-nest?video
        roles:
        - detect
        - record
    detect:
      enabled: true
      width: 1280
      height: 720
      fps: 5
    live:
      height: 1080
    objects:
      track:
      - person
      - dog
      - cat
      - car
  living-room:
    enabled: true
    ffmpeg:
      input_args: preset-rtsp-restream-low-latency
      inputs:
      - path: rtsp://127.0.0.1:8554/living-room-nest?video
        roles:
        - detect
        - record
    detect:
      enabled: true
      width: 1280
      height: 720
      fps: 5
    live:
      height: 1080
    objects:
      track:
      - person
      - dog
      - cat
  kitchen:
    enabled: true
    ffmpeg:
      input_args: preset-rtsp-restream-low-latency
      inputs:
      - path: rtsp://127.0.0.1:8554/kitchen-nest?video
        roles:
        - detect
        - record
    detect:
      enabled: true
      width: 1280
      height: 720
      fps: 5
    live:
      height: 1080
    objects:
      track:
      - person
