metadata_dir = "/mnt/meta"
data_dir = "/mnt/data"

db_engine = "lmdb"

replication_factor = 3

compression_level = 1

rpc_bind_addr = "[::]:3901"
rpc_public_addr = "$(hostname).garage-rpc.garage.svc.cluster.local:3901"
rpc_secret_file = "/mnt/meta/rpc-secret"

# Bootstrap peers using stable DNS names
bootstrap_peers = [
  "garage-0.garage-rpc.garage.svc.cluster.local:3901",
  "garage-1.garage-rpc.garage.svc.cluster.local:3901",
  "garage-2.garage-rpc.garage.svc.cluster.local:3901",
]

[s3_api]
s3_region = "garage"
api_bind_addr = "[::]:3900"
root_domain = ".s3.vanillax.me"

[s3_web]
bind_addr = "[::]:3902"
root_domain = ".web.vanillax.me"

[admin]
api_bind_addr = "[::]:3903"
admin_token_file = "/mnt/meta/admin-token"
