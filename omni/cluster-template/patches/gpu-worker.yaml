# GPU Worker Talos Configuration
# Network topology:
#   ens18 (net0/vmbr0) - Main LAN 192.168.10.x (DHCP) - 10G via switch to TrueNAS
#   DHCP config moved to inline DHCPv4Config in cluster-template.yaml
#
# Storage traffic now goes through 10G switch (192.168.10.133)
machine:
  kubelet:
    nodeIP:
      validSubnets:
      - 192.168.10.0/24
  kernel:
    modules:
    - name: nvidia
    - name: nvidia_uvm
    - name: nvidia_drm
    - name: nvidia_modeset
  sysctls:
    net.core.bpf_jit_harden: 1
